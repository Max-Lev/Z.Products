define(['app', 'imagesService', 'productCntrl'], function (app) {    app.controller('productsCntrl',        ['$scope', 'imagesLazyLoading',            '$timeout', '$rootScope',            '$state', '$stateParams',            function ($scope, imagesLazyLoading,                      $timeout, $rootScope,                      $state, $stateParams) {                console.log('productsCntrl init');                /*                 * PRODUCTS LIST FROM ROUTER RESOLVE SERVICE                 * */                $scope.productsList = imagesLazyLoading.products;                $scope.displayList;                /*                 * MAPPING LIST FOR REQUIRED OBJECT PROPERTIES                 * */                $scope.catalog = $scope.productsList.map(function (prod, i) {                    var product;                    product =                        {                            id: prod.id,                            name: prod.name,                            url: prod.image_url,                            brand: prod.user_name,                            productsList: prod.products                        };                    return product;                });                // console.log($scope.catalog);                displayLimit($scope.catalog);                function displayLimit(list){                    $scope.list=[];                    for(var i=0;i<=9;i++){                        $scope.list.push(list[i]);                    }                    $scope.catalog = $scope.list;                };                $scope.productDescription = function (product) {                    $state.data = {product: product};                    $state.go('product', {id: product.id});                };                $scope.displayBlock = false;                $timeout(function () {                    $scope.displayBlock = true;                    $rootScope.active = false;                }, 0);            }]);});